# -----------------------------
# sfmc-automation-inspector
# -----------------------------

# Logging
LOG_LEVEL=INFO

# REQUIRED: Secrets Manager secret reference
# Secret must be JSON with at least: client_id, client_secret
# Optional in secret: account_id, auth_base_url/auth_url, rest_base_url/rest_url
SFMC_SECRET_ARN=arn:aws:secretsmanager:ap-southeast-2:123456789012:secret:sfmc/sandbox/installedpackage-ABC123
# OR
# SFMC_SECRET_ID=sfmc/sandbox/installedpackage

# Optional overrides (otherwise derived from secret; rest_base can be derived from auth_base)
# SFMC_AUTH_BASE_URL=https://YOUR_SUBDOMAIN.auth.marketingcloudapis.com
# SFMC_REST_BASE_URL=https://YOUR_SUBDOMAIN.rest.marketingcloudapis.com

# Optional guardrail: lock tool to a single MID/BU account_id stored in the secret
# SFMC_ALLOWED_ACCOUNT_ID=123456789

# -----------------------------
# Guardrails / limits
# -----------------------------
MAX_PAGE_SIZE=50

AUTOMATION_SEARCH_MAX_ITEMS=250
QUERY_SEARCH_MAX_ITEMS=250
IMPORT_SEARCH_MAX_ITEMS=250

REST_TIMEOUT=30

SUMMARY_TEXT_TRUNCATE=500
ACTIVITY_DETAILS_MAX_HARD_CAP=25

# Resolver scan caps used by activityDetails fan-out (queries/imports)
RESOLVE_QUERY_SCAN_MAX=200
RESOLVE_IMPORT_SCAN_MAX=200

# Fuzzy fallback for task-name -> definition-name resolution (only accepts unique match)
RESOLVE_NAME_CONTAINS_FALLBACK=true
